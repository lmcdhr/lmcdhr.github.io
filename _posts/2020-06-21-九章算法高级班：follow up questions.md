---
layout:     post
title:      ä¹ç« ç®—æ³•é«˜çº§ç­ï¼š follow up questions
subtitle:   follow up questions
date:       2020-06-21
author:     lmcdhr
header-img: img/LeetCode_Sharing.png
catalog: true
disqus_username: lmcdhr
tags:
    - Leetcode
    - follow up
    - iterator
    - ä¹ç« é«˜çº§ç­
---

## follow up questions

## 1. follow up é—®é¢˜

#### follow upç±»å‹

1. ä¸€ç»´è½¬äºŒç»´ï¼š

   ä¸€èˆ¬é¢˜ç›®ä¸ä¼šæ”¹å˜ï¼Œæ•°æ®çš„ç±»å‹ä»ä¸€ç»´æ•°ç»„å˜ä¸ºäºŒç»´çŸ©é˜µï¼Œæ€»ä½“çš„æ€è·¯ä¸å˜ï¼Œåªæ˜¯æŸäº›å…³é”®çš„æ¨å¯¼è¿‡ç¨‹ä¼šå˜å¾—å¤æ‚

2. é¢˜ç›®æ¡ä»¶åŠ å¼ºï¼š

   è¿™ç±»é—®é¢˜è¾ƒä¸ºæ£˜æ‰‹ï¼Œè™½ç„¶æœ‰çš„æ—¶å€™é¢˜ç›®è¦æ±‚åªæ˜¯å¢åŠ äº†ä¸€ä¸ªç­‰å·ï¼Œæ€è·¯å´å¾ˆå¯èƒ½æœ‰é‡å¤§æ”¹å˜ï¼Œå› æ­¤éœ€è¦é‡æ–°æ€è€ƒæ€è·¯

3. é©¬ç”²é¢˜ï¼š

   é¡¾åæ€ä¹‰ï¼Œæ¢ä¸ªé©¬ç”²ï¼Œé¢˜ç›®æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œå¤šåšé¢˜å°±èƒ½è¯†åˆ«å‡ºæ¥

## 2. iteratorç±»é—®é¢˜

#### 1. é¢˜ç›®ç±»å‹

è¿™ç±»é—®é¢˜ä¸€èˆ¬æ˜¯ç»™äºˆä¸€ç»„æ•°æ®ï¼Œè®©ä½ è‡ªå·±å†™ä¸€ä¸ªiteratoréå†æ•´ä¸ªæ•°æ®ï¼Œæ¯æ¬¡è¾“å‡ºæ•°æ®ä¹‹ä¸­çš„ä¸€ä¸ª

#### 2. è§£é¢˜æ€è·¯

1. ä¸€ä¸ªé‡è¦å‰æï¼šä¸è¦é¢„å¤„ç†æ•°æ®ï¼å³ä¸è¦å…ˆæŠŠæ•°æ®å…¨éƒ¨å¤„ç†å®Œï¼Œæ¯”å¦‚å°†æ•´ä¸ªæ•°æ®ç»“æ„å¤„ç†å®Œæ”¾å…¥æ•°ç»„ä¸­ï¼Œä¹‹åæ¯æ¬¡è¾“å‡ºä¸€ä¸ªè¿™ç§æ“ä½œï¼Œè€Œæ˜¯åº”è¯¥ç°åœºè¾“å‡ºï¼Œç°åœºå¤„ç†

2. ä¸€èˆ¬éƒ½ä¼šåŒ…å«ä¸¤ä¸ªå‡½æ•°ï¼šnextå’Œhasnextï¼Œnextå°±æ˜¯è¾“å‡ºiteratorçš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œhasnextæ˜¯åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸ªå…ƒç´ ï¼Œä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨nextå‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦å…ˆç”¨hasnextç¡®ä¿ä»æœ‰å…ƒç´ å¯ä»¥è¾“å‡º

3. æˆ‘ä»¬å¤„ç†æ•°æ®çš„å†…å®¹ä¸€èˆ¬æ”¾å…¥hasnextä¹‹ä¸­ï¼Œä¾‹å¦‚æˆ‘ä»¬flatten listä¸€é¢˜ä¸­ï¼Œæˆ‘ä»¬ä¼šåœ¨hasnextä¸­æ¯æ¬¡å¤„ç†å®Œä¸€ä¸ªå°çš„listï¼Œç„¶åä½¿å¾—nextå‡½æ•°å¾—ä»¥è¾“å‡ºï¼Œè€Œä¸”nextå‡½æ•°ä¸€èˆ¬åªè´Ÿè´£è¾“å‡º

4. è¿™ç±»å…ˆå¤„ç†åé¢æ•°æ®çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šè¾ƒä¸ºé¢‘ç¹çš„ä½¿ç”¨stackï¼Œä»¥å­˜å‚¨å…ˆå‡ºç°çš„stackï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸¤ä¸ªstackæ¥ç¿»è½¬æ•°æ®

## 2. æ —å­ï¼š

### 1. ä¸€ç»´è½¬äºŒç»´é—®é¢˜

#### ä¸€ç»´prefix sum leetcode 560. Subarray Sum Equals K

1. é¢˜ç›®ï¼š

   ç»™äºˆä¸€ä¸ªæ•°ç»„ï¼Œä»¥åŠä¸€ä¸ªæ•´å‹kï¼Œè¦æ±‚æ‰¾å‡ºæ•°ç»„ä¸­è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ï¼Œä½¿å¾—è¿™äº›å­æ•°ç»„çš„å’Œä¸ºk

2. æ€è·¯ï¼š

   æ±‚è¿ç»­å­æ•°ç»„çš„å’Œï¼Œä¸€èˆ¬ä¼šä½¿ç”¨prefix sumï¼Œæœ¬é¢˜ä¸­æˆ‘ä»¬éœ€è¦æ±‚å‡ºè¿ç»­å­æ•°ç»„çš„æ•°é‡ï¼Œä¸”å’Œä¸ºkï¼Œå’Œä¸ºkæ¯”è¾ƒå¥½å¼„ï¼Œåªéœ€è¦æŸæ®µå­æ•°ç»„çš„prefix sumä¸ºkå³å¯ï¼Œå³ä¸¤ä¸ªä»å¤´å¼€å§‹çš„å­æ•°ç»„çš„sumå·®å€¼ä¸ºkï¼›å¦‚æœè¿˜éœ€è¦ä¿å­˜æ•°é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨hash mapæ¥ä¿å­˜è¿™äº›sumï¼Œå¹¶ä¸”åŒæ—¶ä¿å­˜ä»–ä»¬å‡ºç°çš„æ¬¡æ•°ï¼Œæœ¬é¢˜ä¸­æˆ‘ä»¬åªè¦éå†æ•°ç»„æ±‚å‡ºsumï¼Œå­˜å…¥hash mapä¸­ï¼Œå†æ¯æ¬¡åœ¨mapä¸­å¯»æ‰¾k-sumï¼Œæ›´æ–°å‡ºç°æ¬¡æ•°å°±è¡Œäº†

3. ä»£ç ï¼š

```java
class Solution {
    public int subarraySum(int[] nums, int k) {
        if(nums == null || nums.length == 0)
            return 0;
        Map<Integer, Integer> sum = new HashMap<Integer, Integer>();
        sum.put(0,1);
        int count = 0;
        int temp = 0;
        for(int i=0; i<nums.length; i++){
            temp += nums[i];
            if(sum.containsKey(temp - k)){
                count += sum.get(temp-k);
            }
            sum.put(temp,sum.getOrDefault(temp,0)+1);
        }
        return count;
    }
}
```

#### ä¸€ç»´å˜ç§ leetcode 523. Continuous Subarray Sum

https://leetcode.com/problems/continuous-subarray-sum/

1. é¢˜ç›®ï¼š

   ç»™äºˆä¸€ä¸ªæ•°ç»„ä»¥åŠä¸€ä¸ªæ•´å‹kï¼Œè¦æ±‚å¾—å‡ºæ˜¯å¦å¯èƒ½å­˜åœ¨è‡³å°‘ä¸€ä¸ªå­æ•°ç»„ï¼Œä½¿å¾—å­æ•°ç»„çš„é•¿åº¦è‡³å°‘ä¸º2ï¼Œä¸”å’Œæ˜¯kçš„æ­£æ•´æ•°å€

2. æ€è·¯

   å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸Šä¸€é“é¢˜çš„follow upï¼Œ æœ‰ä¸¤ä¸ªå¤šå‡ºæ¥çš„è¦æ±‚ï¼šä¸€æ˜¯å­æ•°ç»„çš„é•¿åº¦è‡³å°‘ä¸º2ï¼ŒäºŒæ˜¯ä»å’Œæ­£å¥½ç­‰äºï¼Œå˜æˆäº†æ­£æ•´æ•°å€ï¼Œä¸è¿‡é—®é¢˜ä»æ±‚æ€»æ•°å˜æˆäº†æ±‚æ˜¯å¦å¯èƒ½ï¼Œå®é™…ä¸Šç²¾ç®€äº†ä¸€äº›ã€‚ç°åœ¨æˆ‘ä»¬é‡æ–°æ¢³ç†æ€è·¯ï¼Œåˆ†åˆ«è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼š
   1. é•¿åº¦è‡³å°‘ä¸º2ï¼šä¸Šä¸€é¢˜ä¸­ï¼Œéœ€è¦æ±‚æ•°é‡ï¼Œå› æ­¤hash mapä¸­keyæ˜¯sumå€¼ï¼Œvalueæ˜¯å‡ºç°æ¬¡æ•°ï¼Œä¸è¿‡ç°åœ¨å¦‚æœéœ€è¦å­æ•°ç»„çš„é•¿åº¦ï¼Œè€Œä¸”ä¸éœ€è¦å†å­˜ä¸ªæ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ”¹ä¸ºå­˜ä¸‹æ ‡
   2. æ­£æ•´æ•°å€ï¼šéå†nå€æ˜¾ç„¶ä¸ç°å®ï¼Œæˆ‘ä»¬æ”¹å˜ä¸€ä¸‹æ€è·¯ï¼Œå¦‚æœåŠ å’Œæ˜¯æ­£æ•´æ•°å€ï¼Œé‚£ä¹ˆä»–ä¸€å®šå¯ä»¥æ•´é™¤kï¼Œè€Œä¸”å¦‚æœä¸¤ä¸ªä¸åŒçš„sumé™¤ä»¥kçš„ä½™æ•°åŠ ç›¸åŒï¼Œé‚£ä¹ˆä»–ä»¬ä¸¤ä¸ªç›¸å‡ï¼Œä¸€å®šæ˜¯6çš„æ­£æ•´æ•°å€ï¼Œä¾‹å¦‚k=5,ä¸€ä¸ªå­æ•°ç»„çš„å’Œä¸º8ï¼Œä¸€ä¸ªä¸º13ï¼Œä»–ä»¬é™¤ä»¥5çš„ä½™æ•°éƒ½æ˜¯3ï¼Œé‚£ä¹ˆä»–ä»¬ä¸­é—´çš„prefix sum13 - 8 = 5ï¼Œ æ˜¯5çš„1å€ï¼Œæ»¡è¶³æ¡ä»¶ã€‚å› æ­¤æˆ‘ä»¬æœ¬æ¬¡ä¸å†å•çº¯çš„ä¿å­˜æ•°ç»„çš„sumï¼Œè€Œæ˜¯ä¿å­˜sum%k,å¦‚æœéå†ä¸­æ‰¾åˆ°äº†å¦ä¸€ä¸ªsum%k,é‚£ä¹ˆéªŒè¯ä¸€ä¸‹é•¿åº¦æ»¡ä¸æ»¡è¶³ï¼Œæ»¡è¶³çš„è¯ç›´æ¥è¾“å‡ºtrueå³å¯

   æˆ‘ä»¬ä¸å¦¨å†è¿›ä¸€æ­¥æ€è€ƒï¼Œå¦‚æœè¦æ±‚é•¿åº¦æ€ä¹ˆåŠï¼Ÿå¾ˆç®€å•ï¼ŒæŠŠä¿å­˜çš„ä¸‹æ ‡å˜æˆint[]ï¼Œé‡Œé¢ä¸€ä¸ªå…ƒç´ ä¿å­˜ä¸‹æ ‡ï¼Œä¸€ä¸ªä¿å­˜å‡ºç°æ¬¡æ•°å°±è¡Œäº†

3. ä»£ç ï¼š

```java
class Solution {
    public boolean checkSubarraySum(int[] nums, int k) {
        if(nums == null || nums.length == 0)
            return k==0;
        
        int m = nums.length;
        int sum = 0;
        Map<Integer, Integer> map = new HashMap<Integer, Integer>();
        map.put(0,-1);

        for(int i=0; i<m; i++){
            sum += nums[i];
            if(k != 0)
                sum = sum % k;
            if(map.containsKey(sum)){
                if(i - map.get(sum) > 1 ){
                    return true;
                }
            }else{
                map.put(sum, i);
            }
        }        
        
        return false;
    }
}
```

#### ä¸€ç»´è½¬äºŒç»´ å€’éœ‰è›‹äºŒå· leetcode 1074. Number of Submatrices That Sum to Target

https://leetcode.com/problems/number-of-submatrices-that-sum-to-target/

å’–å“¥çœ‹äº†é¢˜ï¼Œè¯´ä»¥åä»–å»é¢è¯•åˆ«äººå°±é¢è¿™é“é¢˜ï¼Œè¢«é¢çš„å“¥ä»¬è€å€’éœ‰è›‹äº†ï¼Œé‚£ä¹ˆç¥æ„¿å¤§å®¶ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚

1. é¢˜ç›®ï¼š

   è¦æ±‚è·Ÿ560ä¸€æ ·ï¼Œä½†æ˜¯è¿™æ¬¡æ˜¯åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¹‹ä¸­ï¼Œæ±‚å­æ•°ç»„ä¹Ÿå˜æˆäº†æ±‚å­çŸ©é˜µï¼Œæ±‚æ•°é‡

2. æ€è·¯ï¼š

   å¦‚æœä½¿ç”¨æš´åŠ›éå†ï¼Œé‚£ä¹ˆä¸åŒçŸ©é˜µçš„å¤§å°æœ‰m*nç§ï¼Œéå†æ¯ç§çŸ©é˜µä¹Ÿéœ€è¦m*nï¼Œæ±‚å’Œéœ€è¦m*nï¼ˆå¦‚æœä¸ç”¨æ±‚å’Œä¼˜åŒ–ï¼‰ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªå…­æ¬¡æ–¹çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ¿å„¿B ETLï¼Œæˆ‘ä»¬ä¹‹å‰æ±‚å’Œä½¿ç”¨äº†hash map+prefix sumçš„è§£é¢˜æ–¹æ³•ï¼Œé‚£ä¹ˆæœ¬é¢˜èƒ½å¦ç»§æ‰¿å‘¢ï¼Ÿå¦‚æœå¯ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚æ¨ç®—å‡ºåªéœ€è¦éå†çŸ©é˜µä¸€éå³å¯ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é™è‡³mnï¼Œhash mapçš„ä½¿ç”¨æ²¡å•¥éš¾åº¦ï¼Œå¯æ˜¯å¦‚ä½•åœ¨äºŒç»´çŸ©é˜µä¸­æ±‚å‡ºprefix sumå‘¢ï¼Ÿ

   ä¸€ç»´æ•°ç»„ä¸­ï¼Œprefix sumæ˜¯sum[i~j] = sum[j]-sum[i-1],è€Œåœ¨çŸ©é˜µä¸­ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰sum[i][j]ä¸ºä»åŸç‚¹åˆ°(i,j)è¿™ä¸ªçŸ©é˜µçš„sumï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ ¹æ®ä»–å‰æ–¹å·²ç»æ±‚å‡ºçš„å…ƒç´ æ¨å¯¼å‡ºæ¥å‘¢ï¼Ÿæˆ‘ä»¬å¯è·å¾—çš„æœ€è¿‘çš„ç‚¹æœ‰å››ä¸ªï¼šå·¦ä¸ŠçŸ©é˜µçš„sum[i-1][j-1],å·¦ä¾§çŸ©é˜µçš„sum[i][j-1],ä¸Šä¾§çŸ©é˜µçš„sum[i-1][j]ï¼Œä»¥åŠå½“å‰ç‚¹çš„å€¼nums[i][j]ï¼›å¦‚æœæˆ‘ä»¬ç”»ä¸ªå›¾ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬å°†å·¦ä¾§çŸ©é˜µå’Œä¸Šå†ŒçŸ©é˜µçš„å’Œç›¸åŠ ï¼Œå†å‡å»å·¦ä¸ŠçŸ©é˜µçš„sumï¼ˆè¢«ç®—äº†ä¸¤æ¬¡ï¼‰ï¼Œæ­£å¥½æ˜¯sum[i][j]é™¤å»å³ä¸‹è§’å…ƒç´ nums[i][j]çš„å’Œï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¤§è‡´æ¨å¯¼å‡ºäºŒç»´çŸ©é˜µçš„prefix sumå…¬å¼ï¼š
```
sum[i][j] = sum[i-1][j] + sum[i][j-1] - sum[i-1][j-1] + nums[i][j]
```

   å¤§å®¶ç”»ä¸ªå›¾ï¼Œå°±å¾ˆå¥½ç†è§£äº†ï¼Œå¾—å‡ºè¿™ä¸ªå…¬å¼ä¹‹åï¼Œé—®é¢˜å°±å¾ˆå¥½è§£å†³äº†ï¼Œä¹‹å‰æˆ‘ä»¬çœ‹åˆ°prefix sumçš„æ¨å¯¼ä¼šæœ‰å‡ä¸€æ“ä½œï¼Œå¦‚æœç›´æ¥å‡ä¸€å¯èƒ½ä¼šå¯¼è‡´-1çš„å‡ºç°ï¼Œå› æ­¤æˆ‘ä»¬è¿˜æ˜¯å¤šåŠ ä¸€è¡Œä¸€åˆ—ï¼Œä½œä¸ºç¼“å†²ï¼Œå…¨éƒ¨ç½®å…¥0å³å¯ï¼Œæ„ä¸ºæ•°ç»„ä¸ºç©ºçš„æ—¶å€™sumä¸º0ï¼Œè¿™æ ·å°±é¿å…äº†-1çš„å‡ºç°

   å¯ä»¥çœ‹å‡ºï¼Œä¸€ç»´è½¬äºŒç»´çš„é¢˜ï¼Œå…¶å®æ€è·¯å¤šåŠæ˜¯ä¸å˜çš„ï¼Œä¹‹å‰æˆ‘ä»¬æœ‰ä¸€é“trap rain waterï¼Œæœ‰ä¸€ç»´å’ŒäºŒç»´ä¸¤é“é¢˜ï¼Œå…¶å®æ€è·¯ä¹Ÿæ²¡æœ‰å˜ï¼Œåªæ˜¯å› ä¸ºç»´åº¦çš„æ”¹å˜ï¼Œæ¨å¯¼å…¬å¼å‘ç”Ÿäº†ä¸€äº›æ”¹å˜ï¼Œé¢è¯•çš„æ—¶å€™æˆ‘ä»¬å†·é™æ€è€ƒï¼Œåº”è¯¥æ²¡æœ‰é—®é¢˜

3. ä»£ç ï¼š

```java
class Solution {
    public int numSubmatrixSumTarget(int[][] matrix, int target) {
        
        int m = matrix.length;
        int n = matrix[0].length;
        int[][] prefixSum = new int[m+1][n+1];
        int res = 0;
        
        for(int i=1; i<m+1; i++){
            for(int j=1; j<n+1; j++){
                prefixSum[i][j] = prefixSum[i-1][j] + prefixSum[i][j-1] - prefixSum[i-1][j-1] + matrix[i-1][j-1];
            }
        }
        
        for(int up=0; up<m; up++){
            for(int down=up+1; down<m+1; down++){
                Map<Integer, Integer> map = new HashMap<Integer, Integer>();
                for(int j=0; j<n+1; j++){
                    int sum = prefixSum[down][j] - prefixSum[up][j];
                    if(map.containsKey(sum - target)){
                        res += map.get(sum - target);
                    }
                    map.put(sum, map.getOrDefault(sum,0)+1);
                }
            }
        }
        
        return res;
    }
}
```

### 2. partition ç±»å‹é—®é¢˜

#### partitionçš„æŠ½è±¡è¡¨è¾¾ leetcode 324. Wiggle Sort II

https://leetcode.com/problems/wiggle-sort-ii/

1. é¢˜ç›®ï¼š

   ç»™äºˆä¸€ä¸ªæ•°ç»„ï¼Œç°åœ¨è¦æ±‚é‡æ’æ•°ç»„ï¼Œè¦æ±‚æœ€åè¾“å‡ºæ—¶æ•°ç»„å†…éƒ¨å¤§å°å…³ç³»æ˜¯a[0]<a[1]>a[2]<a[3]>a[4]<a[5]......

2. æ€è·¯ï¼š

   æœ¬é¢˜çš„åŸºç¡€é¢˜å‹æ˜¯wiggle sort Iï¼Œä¸¤è€…å”¯ä¸€çš„ä¸åŒæ˜¯Iä¸­æœ€åæ•°ç»„å†…éƒ¨å¤§å°å…³ç³»æ˜¯å¤§äºç­‰äºå’Œå°äºç­‰äºï¼ŒIIä¸­å´ä¸èƒ½ç­‰äºï¼Œè¿™ä¸¤ç‚¹çœ‹ä¼¼åŒºåˆ«ä¸å¤§ï¼Œè§£é¢˜åŠæ³•å´å¤©å£¤ä¹‹åˆ«ï¼ŒIä¸­æˆ‘ä»¬ç›´æ¥æŒ‰åºéå†æ•°ç»„ï¼Œå®šä¹‰ä¸€ä¸ªbooleanå˜é‡æ¥è®°å½•å½“å‰æ˜¯è¦æ‰¾ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ æ›´å¤§çš„å…ƒç´ è¿˜æ˜¯æ›´å°çš„å…ƒç´ ï¼Œå¦‚æœé‡åˆ°çš„å…ƒç´ å¤§å°å…³ç³»ä¸å½“å‰ç›¸åï¼Œç›´æ¥swapå³å¯

   ç°åœ¨ä¸èƒ½ç­‰äºï¼Œå…¶å®å·®äº†å¾ˆå¤šï¼Œæ¯”å¦‚è¿™ä¸ªä¾‹å­ï¼š[1,3,2,2,3,1],å¦‚æœæŒ‰ç…§Iä¸­çš„è¦æ±‚ï¼Œé‚£ä¹ˆç›´æ¥å°±æ»¡è¶³è¦æ±‚äº†ï¼Œä½†æ˜¯å¦‚æœä¸èƒ½ç­‰äºï¼Œé‚£ä¹ˆ2å’Œ2é‚£é‡Œå°±ä¸æ»¡è¶³è¦æ±‚ï¼Œå¯èƒ½çš„ä¸€ç§è§£ç­”æ˜¯:[2,3,1,3,1,2]ï¼Œé‚£ä¹ˆè¿™é“é¢˜å¦‚ä½•è¿›è¡Œè§£ç­”å‘¢ï¼Ÿ

   æˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸€ä¸‹ç­”æ¡ˆçš„æ ¼å¼ï¼Œæ˜¯ä¸€ä¸ªå³°å€¼æ¥ä¸€ä¸ªè¾ƒä½å€¼ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬æŠŠæ•°ç»„åˆ†ä¸ºä¸¤åŠï¼Œä¸€åŠä¿å­˜å³°å€¼ï¼Œä¸€åŠä¿å­˜è¾ƒä½å€¼ï¼Œé‚£ä¹ˆåªéœ€è¦æ¯æ¬¡å…ˆè¾“å‡ºä¸€ä¸ªè¾ƒä½å€¼ï¼Œå†è¾“å‡ºä¸€ä¸ªå³°å€¼ï¼Œå³å¯ã€‚è¿™ä¸ªæ€æƒ³åœ¨quick sortä¸­ä½¿ç”¨è¿‡ï¼Œå³é€‰å–ä¸€ä¸ªpivotï¼Œå°†æ•°ç»„åˆ†ä¸ºä¸¤åŠï¼Œä¸€åŠå¤§äºç­‰äºpivotï¼Œä¸€æ®µå°äºpivotï¼Œå†è¿›è¡Œåç»­å¤„ç†ï¼Œç°åœ¨æˆ‘ä»¬ä¸å¦¨ä¹ŸæŒ‰ç…§è¿™ä¸ªæ€è·¯æ¥åˆ†ï¼šæˆ‘ä»¬æ•°ç»„ä¸€å…±æœ‰nä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬æŒ‰ç…§å¤§å°é€‰å–ä¸­é—´å…ƒç´ midï¼Œé‚£ä¹ˆä¼šæœ‰ï¼ˆn-1ï¼‰/2ä¸ªå…ƒç´ æ¯”midå°ï¼Œå¦å¤–çš„å…ƒç´ æ¯”midå¤§ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™ä¸ªmidå…ƒç´ ï¼Œæ¢è¨€ä¹‹ï¼Œæ‰¾åˆ°ç¬¬n/2å¤§çš„å…ƒç´ ï¼ˆä¸­ä½æ•°ï¼‰ï¼Œæ˜¯ä¸æ˜¯å¬èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯æˆ‘ä»¬ä¹‹å‰åŸºç¡€ç­é‡Œåšè¿‡çš„quick selecté‚£é“é¢˜ï¼šfind the kth largest elementï¼Œé‚£é“é¢˜æˆ‘ä»¬åˆ†åˆ«ç”¨heapå’Œquick selectï¼ˆä¹Ÿå°±æ˜¯partitionï¼‰æ‰¾åˆ°äº†ç¬¬kå¤§å…ƒç´ ï¼Œæ˜¾ç„¶quick selectæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œæˆ‘ä»¬æ¯æ¬¡é€‰å–ä¸€ä¸ªpivotï¼ŒæŸ¥çœ‹å°äºpivotçš„å…ƒç´ æ•°é‡å¤Ÿä¸å¤Ÿn/2ï¼Œå¦‚æœå¤Ÿäº†ï¼Œé‚£ä¹ˆè¯´æ˜æ‰¾å¤šäº†ï¼Œé€’å½’å¾€å›æ‰¾ï¼Œå¦‚æœä¸å¤Ÿï¼Œé‚£ä¹ˆè¯´æ˜è¿˜éœ€è¦æ‰¾ï¼Œæˆ‘ä»¬å‡å»å·²ç»æ‰¾åˆ°çš„ä¸ªæ•°ï¼Œç»§ç»­å¾€ä¸‹é€’å½’æŸ¥æ‰¾ï¼Œç›´åˆ°æ­£å¥½æ‰¾åˆ°ç¬¬kå¤§

    é‚£ä¹ˆæœ¬é¢˜ä¹Ÿè¿åˆƒè€Œè§£ï¼Œæˆ‘ä»¬å…ˆæ‰¾åˆ°ä¸­ä½æ•°ï¼Œéšåå®šä¹‰åŒæŒ‡é’ˆï¼Œä¸€ä¸ªä»å¤´å¼€å§‹æ”¾è¾ƒå°å…ƒç´ ï¼Œä¸€ä¸ªä»å°¾å¼€å§‹æ”¾è¾ƒå¤§å…ƒç´ ï¼Œå½“ç„¶æˆ‘ä»¬éœ€è¦æ ¹æ®æ•°ç»„é•¿åº¦çš„å¥‡å¶æ€§åˆ¤æ–­æœ€åä¸€ä¸ªå…ƒç´ æ˜¯è¾ƒå¤§å…ƒç´ è¿˜æ˜¯è¾ƒå°å…ƒç´ ï¼Œéšåéå†åŸæ•°ç»„ï¼Œæ ¹æ®éå†å…ƒç´ ä¸midçš„å…³ç³»ï¼Œå°†å…ƒç´ ç½®å…¥ç›¸åº”æŒ‡é’ˆçš„ä½ç½®ï¼Œå¹¶ä¸”æŒ‡é’ˆåœ¨å¤„ç†å®Œåè‡ªå‡2

   æœ¬é¢˜æ˜¯partitionçš„ç»å…¸åº”ç”¨ï¼Œä¹Ÿæ˜¯è¿™ç±»é¢˜ç›®æ¡ä»¶åªå˜ä¸€ç‚¹ï¼Œè§£é¢˜æ€è·¯å´å˜åŒ–å¾ˆå¤§çš„é¢˜ï¼Œè¿™ç§é¢˜åœ¨é¢è¯•ä¸­è¾ƒä¸ºéš¾è§£ï¼Œéœ€è¦æˆ‘ä»¬å¤šåˆ·é¢˜ï¼Œæ ¹æ®ä»¥å¾€é‡åˆ°è¿‡çš„é¢˜æ¥æ€è€ƒ

3. ä»£ç ï¼š

```java
public class Solution {
    public static void wiggleSort(int[] nums) {
        final int n = nums.length;
        int[] tem = new int[n];
        for (int i = 0; i < n; i++) {
            tem[i] = nums[i];
        }
        int mid = partition(tem, 0, n-1, n/2);
        int[] ans = new int[n];
        for (int i = 0; i < n; i++) {
            ans[i] = mid;
        }
        
        int l = 1, r = (n%2 == 0) ? n-2 : n-1;
        for (int i = 0; i < n; i++) {
            if (nums[i] < mid) {
                ans[r] = nums[i];
                r -= 2;
            } else if (nums[i] > mid) {
                ans[l] = nums[i];
                l += 2;
            }
        }
        for (int i = 0; i < n; i++) {
            nums[i] = ans[i];
        }
    }
    
    public static int partition(int[] nums, int l, int r, int rank) {
        int left = l, right = r;
        int now = nums[left];
        while (left < right) {
            while (left < right && nums[right] >= now) {
                right--;
            }
            nums[left] = nums[right];
            while (left < right && nums[left] <= now) {
                left++;
            }
            nums[right] = nums[left];
        }
        if (left - l == rank) {
            return now;
        } else if (left - l < rank) {
            return partition(nums, left + 1, r, rank - (left - l + 1));
        } else {
            return partition(nums, l, right - 1, rank);
        }
    }
}
```

#### quick sort æŠ½è±¡é—®é¢˜ lintcode 399. Nuts & Bolts Problem

https://www.lintcode.com/problem/nuts-bolts-problem/description

1. é¢˜ç›®ï¼š

   ç»™äºˆä¸¤ç»„string[]ï¼Œç¬¬ä¸€ç»„ä»£è¡¨èºä¸ï¼Œå…¨æ˜¯å°å†™å­—æ¯ï¼Œç¬¬äºŒç»„ä»£è¡¨èºæ¯ï¼Œå…¨æ˜¯å¤§å†™å­—æ¯ï¼Œå¦‚æœåœ¨ç»Ÿä¸€å¤§å°å†™åï¼Œä¸€ä¸ªèºä¸å­—ç¬¦ä¸²å’Œèºæ¯å­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä»–ä»¬ä¸¤ä¸ªæ˜¯é…å¥—çš„ï¼Œç°åœ¨è¦æ±‚é‡æ–°æ’åºå…¶ä¸­ä¸€ä¸ªstring[]ï¼Œä½¿å¾—æœ€åä¸¤ä¸ªstring[]å¯¹åº”çš„å­—ç¬¦ä¸²éƒ½æ˜¯é…å¥—çš„ï¼Œä½†æ˜¯ä¸€ä¸ªæ•°ç»„å†…éƒ¨çš„å¯¹æ¯”å¤§å°æ˜¯ä¸å¯ä»¥çš„ï¼Œæˆ‘ä»¬åªæä¾›ä¸€ä¸ªå¯¹æ¯”èºä¸å’Œèºæ¯çš„å‡½æ•°compareï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥å¯¹æ¯”èºä¸å’Œèºæ¯çš„å¤§å°å…³ç³»ï¼Œå´ä¸èƒ½åœ¨èºä¸æˆ–è€…èºæ¯è‡ªå·±å†…éƒ¨äº’ç›¸æ¯”å¯¹ï¼ˆå°±åƒç°å®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å°†èºä¸æ‹§å…¥èºæ¯ä¸­æ¥ç¡®å®šå¤§å°å…³ç³»ï¼Œä½†æ˜¯åœ¨è‚‰çœ¼ä¸å¥½è¯†åˆ«çš„æƒ…å†µä¸‹ï¼Œæ— æ³•ç¡®å®šèºä¸è‡ªå·±æˆ–è€…èºæ¯è‡ªå·±ä¹‹é—´çš„å¤§å°å…³ç³»ï¼‰

2. æ€è·¯ï¼š

   å¦‚æœå¯ä»¥è‡ªå·±å†…éƒ¨å¯¹æ¯”ï¼Œé‚£ä¹ˆå¾ˆç®€å•äº†ï¼Œä¸¤æ”¾å„è‡ªæ’åºï¼Œæœ€åè¾“å‡ºçš„å°±æ˜¯æ ¹æ®å¤§å°æ’åºå¥½çš„ï¼Œè€Œä¸”äº’ç›¸é…å¥—çš„äº†ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬åªèƒ½ä¸¤ä¸ªæ•°ç»„ä¹‹é—´æ¯”å¯¹ï¼Œå’‹åŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹compareå‡½æ•°çš„åŠŸèƒ½ï¼Œå³å¯¹æ¯”ä¸€ä¸ªèºä¸å’Œä¸€ä¸ªèºæ¯å­—ç¬¦ä¸²ï¼Œå¦‚æœé…å¥—è¿”å›0ï¼Œèºæ¯å¤§è¿”å›1ï¼Œèºä¸å¤§è¿”å›-1ï¼Œå¦‚æœæˆ‘ä»¬éšæœºæŒ‘é€‰ä¸€ä¸ªèºæ¯ï¼Œå°†æ‰€æœ‰èºä¸éƒ½æ¯”å¯¹ä¸€éï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ‰¾å‡ºé…å¥—çš„ï¼Œå¤§äºèºæ¯çš„å’Œå°äºèºæ¯çš„ï¼Œæ˜¯ä¸æ˜¯çœ‹èµ·æ¥åˆéå¸¸çœ¼ç†Ÿï¼Ÿæ˜¯çš„ï¼Œå…¶å®å°±æ˜¯quick sortï¼Œåªä¸è¿‡è¿™æ¬¡æˆ‘ä»¬çš„pivotä»æ•°ç»„å†…éƒ¨æ‰¾å…ƒç´ ï¼Œå˜æˆäº†å¦å¤–ä¸€ä¸ªæ•°ç»„æ‰¾ï¼Œä¸¤è€…äº’ç›¸æ‰¾pivotï¼Œäº’ç›¸æ’åºï¼Œæ¯æ¬¡æˆ‘ä»¬æ‰¾å‡ºpivotæ‰€åœ¨çš„ä½ç½®ï¼Œç„¶åè®©å¦å¤–ä¸€ä¸ªæ•°ç»„ä¹Ÿä½¿ç”¨è¿™ä¸ªpivotè¿›è¡Œæ’åºï¼Œé‚£ä¹ˆä¸¤ä¸ªæ•°ç»„ä¸­è¿™ä¸ªpivotçš„ä½ç½®å°±ç¡®å®šäº†ï¼Œéšåæˆ‘ä»¬å†å¯¹pivotå·¦å³ä¸¤è¾¹åˆ†åˆ«æ’åºï¼Œæ¯æ¬¡ç¡®å®šä¸€ä¸ªpivotçš„ä½ç½®ï¼›å®é™…ä¸Šå°±æ˜¯ä¸¤è€…å…¬ç”¨ä¸€å¥—æ’åºè§„åˆ™ï¼Œå› æ­¤æœ€åæ’åºåçš„ç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸€ç‚¹å°±éå¸¸å·§å¦™äº†

   å› æ­¤å¤§æ¦‚çš„æµç¨‹å°±æ˜¯æˆ‘ä»¬å…ˆè¿›å…¥quicksortå‡½æ•°ï¼Œå…ˆé€‰ç”¨ä¸€ä¸ªpivotï¼Œå¯¹å…¶ä¸­ä¸€ä¸ªæ•°ç»„æ’åºï¼Œç¡®å®šè¿™ä¸ªpivotå¯¹åº”çš„ä½ç½®ï¼Œä½¿å¾—æ’åºå®Œæˆåè¿™ä¸ªä½ç½®å·¦è¾¹éƒ½æ˜¯æ¯”pivotå°ï¼Œå³è¾¹æ¯”pivotå¤§ï¼Œéšåå°†è¿™ä¸ªå¾—å‡ºçš„pivotä¼ å…¥å¦å¤–ä¸€ä¸ªæ•°ç»„ï¼Œè®©å…¶ä½¿ç”¨è¿™ä¸ªpivotè¿›è¡Œpartitionï¼Œè¿™æ­¥æ“ä½œå®Œæˆåï¼ŒäºŒè€…pivotä½ç½®ä¸Šçš„å…ƒç´ å°±å¯¹åº”èµ·æ¥äº†ï¼Œéšåç»§ç»­é€’å½’ï¼Œå¯¹å·¦å³ä¸¤è¾¹å†åˆ†åˆ«è¿›è¡Œquick sortå°±å¯ä»¥äº†

   é€šè¿‡è¿™é“é¢˜æˆ‘ä»¬å¯ä»¥çœ‹å‡ºquick sortå®é™…æ˜¯éå¸¸çµæ´»çš„ï¼Œpartitionä½œä¸ºå…¶å…³é”®éƒ¨åˆ†ï¼Œå³å¯ä»¥å•ç‹¬å‡ºé¢˜ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºquick sortä¸­é—´çš„è€ƒæŸ¥å†…å®¹ä¹‹ä¸€

3. ä»£ç ï¼š

```java
/**
 * public class NBCompare {
 *     public int cmp(String a, String b);
 * }
 * You can use compare.cmp(a, b) to compare nuts "a" and bolts "b",
 * if "a" is bigger than "b", it will return 1, else if they are equal,
 * it will return 0, else if "a" is smaller than "b", it will return -1.
 * When "a" is not a nut or "b" is not a bolt, it will return 2, which is not valid.
*/
public class Solution {
    /**
     * @param nuts: an array of integers
     * @param bolts: an array of integers
     * @param compare: a instance of Comparator
     * @return: nothing
     */
    public void sortNutsAndBolts(String[] nuts, String[] bolts, NBComparator compare) {
        int n = nuts.length, m = bolts.length;
        if(m!=n) {
            return;
        }
        // é€šè¿‡å¿«é€Ÿæ’åºçš„æ€æƒ³è¿›è¡Œæ’åº
        quickSort(nuts,bolts,compare, 0, n-1);
    }
    void quickSort(String[] nuts, String[] bolts,NBComparator compare, int start, int end){
        if(start >= end) {
            return;
        }
        int index = partition(nuts,bolts[start], compare, start, end);
        partition(bolts, nuts[index], compare, start, end);// æ‰¾åˆ°åŒ¹é…çš„bolt
        // å°†boltsåˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†
        quickSort(nuts, bolts, compare, start, index-1);
        quickSort(nuts, bolts, compare, index+1, end);
    }
    int partition(String[] NorB, String pivot, NBComparator compare, int start, int end){
        int m = start;// mè¡¨ç¤ºæ¢è½´çš„å®é™…ä½ç½®ã€‚
        for(int i = start+1; i<=end; ++i){// åˆ¤æ–­å¹¶ä¸”å¯¹nutå’Œbolté€šè¿‡äº¤æ¢è¿›è¡Œæ’åº
            if(compare.cmp(pivot, NorB[i]) == 1 || compare.cmp(NorB[i],pivot) == -1){
                String tmp = NorB[++m];
                NorB[m] = NorB[i];
                NorB[i] = tmp;
            }else if(compare.cmp(pivot,NorB[i]) == 0 || compare.cmp(NorB[i], pivot) == 0){
                String tmp = NorB[start];
                NorB[start] = NorB[i];
                NorB[i] = tmp;
                i--;
            }
        }
        String tmp = NorB[m];
        NorB[m] = NorB[start];
        NorB[start] = tmp;
        return m;
    }
};
```

### 3. iteratorç±»é—®é¢˜

#### å…‰ç¿¼å±•å¼€å‡†å¤‡é¢˜ lintcode 22. Flatten List

https://www.lintcode.com/problem/flatten-list/description

1. é¢˜ç›®ï¼š

   ç»™äºˆä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œç°åœ¨è¦æ±‚ä½ å°†æ•°ç»„æŒ‰åºå±•å¼€ä¸ºä¸€ç»´ï¼Œæœ‰å‡ ä¸ªå‡½æ•°å¯ä»¥ä½¿ç”¨ï¼šisIntegerï¼Œåˆ¤æ–­å½“å‰çš„å…ƒç´ æ˜¯ä¸æ˜¯æ•´å‹ï¼ŒgetIntegerï¼Œè·å–å½“å‰çš„æ•´å½¢å…ƒç´ ï¼Œå¦‚æœä¸æ˜¯æ•´å‹ï¼Œè¿”å›nullï¼ŒgetListï¼Œè¿”å›å½“å‰çš„listï¼Œå¦‚æœä¸æ˜¯listï¼Œè¿”å›null

2. æ€è·¯ï¼š

   è·Ÿæˆ‘ä»¬ä¹‹å‰åšè¿‡çš„å±•å¼€å­—ç¬¦ä¸²ç±»ä¼¼ï¼Œä¸è¿‡å› ä¸ºæ²¡æœ‰å¤šé‡å¥—å¨ƒå…³ç³»ï¼Œæ‰€ä»¥ä¸éœ€è¦stackï¼ŒæŒ‰åºèµ°å°±å¯ä»¥äº†ï¼Œä¸è¿‡æœ¬é¢˜æˆ‘ä»¬æœ‰ä¸‰ä¸ªè¾…åŠ©å‡½æ•°æ¥åˆ¤æ–­ä¸‹ä¸€ä¸ªå…ƒç´ çš„å†…å®¹æ˜¯integerè¿˜æ˜¯listï¼Œå¹¶è·å–ç›¸å…³å†…å®¹ï¼Œé‚£ä¹ˆæ€è·¯ä¾¿æ¯”è¾ƒæ˜äº†äº†ï¼Œä¸è¿‡è¿™ç§éå†å¹¶ä¸èƒ½ä¸€æ¬¡è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬ä¸€æ¬¡éå†åªèƒ½æ‰“å¼€ä¸€å±‚æ‹¬å·ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªæ•°æ®æ˜¯[2,[3,[4]]]ï¼Œæˆ‘ä»¬ä¸€æ¬¡éå†å¯ä»¥å°†æ•°æ®å˜æˆ2,[3,[4]]ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸¤æ¬¡éå†æ‰èƒ½å°†æœ€å†…å±‚çš„4å˜æˆintegerä»è€Œæ”¾å…¥ç­”æ¡ˆä¸­ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡æ¥è®°å½•å½“å‰è¿˜æœ‰æ²¡æœ‰éœ€è¦æ‰“å¼€çš„æ‹¬å·äº†ï¼Œè€Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ä»nåˆ°nÂ²ï¼šå¦‚æœæ²¡æœ‰æ‹¬å·ï¼Œå°±æ˜¯nï¼Œå¦‚æœæ‰€æœ‰å…ƒç´ éƒ½æ˜¯ä¸€å±‚å±‚æ‹¬å·åµŒå¥—çš„ï¼Œé‚£ä¹ˆå°±æ˜¯nÂ²ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¯´ä¸€ä¸‹æ€è·¯ï¼š
   1. æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªbooleanå˜é‡è®°å½•æ˜¯å¦è¿˜éœ€è¦æ‰“å¼€æ‹¬å·ï¼Œè¿›å…¥whileå¾ªç¯ï¼Œéšåforå¾ªç¯éå†ç”Ÿæ•°æ®ï¼Œå°†booleanç½®ä¸ºfalseï¼Œ
   2. å¦‚æœå½“å‰é‡åˆ°çš„æ˜¯æ•´å‹ï¼Œå°†æ•°æ®å¡«å…¥ç»“æœä¸­
   3. å¦‚æœé‡åˆ°çš„æ˜¯ä¸€ä¸ªå­æ•°ç»„ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬ä»éœ€è¦æ‰“å¼€æ‹¬å·ï¼Œé‚£ä¹ˆé‡æ–°å°†booleanå˜é‡ç½®ä¸ºtrueï¼Œä½¿å¾—ç»§ç»­å¾—ä»¥whileå¾ªç¯
   4. ç›´åˆ°booleanå˜é‡ä¸ºfalseï¼Œæ„ä¸ºä¸å†å¾—åˆ°ä½¿booleanå˜é‡ç½®ä¸ºtrueçš„å­æ•°ç»„äº†ï¼Œæ­¤æ—¶é€€å‡ºwhileå¾ªç¯ï¼Œç»“æœä¸­éƒ½æ˜¯intï¼Œè¿”å›

3. ä»£ç ï¼š

```java
* public interface NestedInteger {
 *
 *     // @return true if this NestedInteger holds a single integer,
 *     // rather than a nested list.
 *     public boolean isInteger();
 *
 *     // @return the single integer that this NestedInteger holds,
 *     // if it holds a single integer
 *     // Return null if this NestedInteger holds a nested list
 *     public Integer getInteger();
 *
 *     // @return the nested list that this NestedInteger holds,
 *     // if it holds a nested list
 *     // Return null if this NestedInteger holds a single integer
 *     public List<NestedInteger> getList();
 * }
 */

public class Solution {

    // @param nestedList a list of NestedInteger
    // @return a list of integer
    public List<Integer> flatten(List<NestedInteger> nestedList) {
        // Write your code here
        List<Integer> res = new ArrayList<Integer>();
        List<NestedInteger> list = nestedList;
        boolean needFlat = true;
        while(needFlat){
            needFlat = false;
            List<NestedInteger> temp = new ArrayList<>();
            for(NestedInteger num: list){
                if(num.isInteger()){
                    temp.add(num);
                }else{
                    temp.addAll(num.getList());
                    needFlat = true;
                }
            }
            list = temp;
        }
        
        for(NestedInteger num: list){
            res.add(num.getInteger());
        }
        return res;
    }
}
```

#### çœŸÂ·å…‰ç¿¼å±•å¼€ leetcode 341. Flatten Nested List Iterator

https://leetcode.com/problems/flatten-nested-list-iterator/

1. é¢˜ç›®ï¼š

   è¿˜æ˜¯å±•å¼€æ•°ç»„ï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªclassæ¥è§£å†³é—®é¢˜ï¼Œé‡Œé¢åŒ…å«nextå‡½æ•°å’Œhasnextå‡½æ•°ï¼Œæ¯æ¬¡nextä¼šè¾“å‡ºä¸€ä¸ªç»“æœï¼Œhasnextåˆ¤æ–­æ˜¯å¦è¿˜å¯ä»¥ç»§ç»­è¾“å‡ºï¼Œæˆ‘ä»¬ä»å¯ä»¥ä½¿ç”¨ä¸Šè¿°çš„ä¸‰ä¸ªè¾…åŠ©å‡½æ•°

2. æ€è·¯ï¼š  

   æœ‰çš„å°ä¼™ä¼´å¯èƒ½å°±è¯´äº†ï¼šæˆ‘éƒ½åšè¿‡ä¸Šè¾¹çš„é¢˜äº†ï¼Œé‚£ä¹ˆæˆ‘ç›´æ¥å¤„ç†å®Œæ•°æ®ï¼Œå°†ç»“æœè®°å…¥ä¸€ä¸ªæ•°ç»„é‡Œï¼Œæ¯æ¬¡nextè¾“å‡ºä¸€ä¸ªï¼Œhasnextåˆ¤æ–­åˆ°æ²¡åˆ°å°¾å°±okäº†ï¼Œé‚£å¯ä¸è¡Œï¼Œè¿™ç±»iteratoré—®é¢˜æœ€å¿Œè®³è¿™ç§è§£æ³•ï¼Œå°±ç®—ä½ è¿™ä¹ˆå†™å‡ºæ¥äº†ï¼Œé¢è¯•å®˜å¾ˆå¯èƒ½è®©ä½ é‡åšä¸é¢„å¤„ç†çš„åšæ³•ï¼ˆä¿—ç§°ä¸ä¼šé¢†ä¼šé¢†å¯¼æ„å›¾ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œä½¿ç”¨æ­£å®—çš„iteratorè§£æ³•æ¥è§£é¢˜

   æˆ‘ä»¬ä¹‹å‰è¯´è¿‡iteratorç±»å‹é—®é¢˜ä¸­ï¼Œnextåªç®¡è¾“å‡ºï¼ˆçœŸä½ ğŸæƒ¯å¾—ï¼‰ï¼Œhasnextä¸ä½†è¦åˆ¤æ–­æ˜¯å¦æœ‰å¯ä»¥è¾“å‡ºçš„å…ƒç´ ï¼Œè¿˜è¦å¤„ç†å¥½æ•°æ®ï¼Œä½¿å¾—nextå‡½æ•°ç›´æ¥æ‹¿åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ å°±å¯ä»¥è¾“å‡ºï¼ˆå½“è€å¦ˆå­ï¼‰ï¼Œæ¢è¨€ä¹‹ï¼Œæœ¬é¢˜ä¸­æ— è®ºæˆ‘ä»¬ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„æ¥å­˜å‚¨è¿™äº›æ•°æ®ï¼Œnextå‡½æ•°èƒ½ç›´æ¥æ‹¿åˆ°çš„ä¸‹ä¸€ä¸ªæ•°æ®å¿…é¡»è¢«å¤„ç†æˆä¸ºæ•´å‹ï¼Œè€Œä¸èƒ½æ”¾ä¸ªliståœ¨é‚£ï¼Œå› æ­¤æˆ‘ä»¬hasnextå‡½æ•°çš„åŠŸèƒ½æ¯”è¾ƒæ˜äº†ï¼Œä¸€ç›´å¤„ç†ç”Ÿæ•°æ®ï¼Œç›´åˆ°nextå‡½æ•°ä¸‹ä¸€ä¸ªåº”è¯¥è¾“å‡ºçš„å…ƒç´ è¢«å¤„ç†ä¸ºintï¼Œå¹¶åˆ¤æ–­è¿˜æœ‰æ²¡æœ‰åç»­å…ƒç´ 

   æ¯”å¦‚[[[1],2],3,[4,[5]]]è¿™ä¸ªä¾‹å­ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å­æ•°ç»„[[1],2]ï¼ŒæŒ‰é¡ºåº1åº”è¯¥å…ˆè¢«è¾“å‡ºï¼Œä½†æ˜¯nextå‡½æ•°å¨‡ç”Ÿæƒ¯å…»æ˜¯ä¸ä¼šè¾“å‡ºæ•°ç»„çš„ï¼Œé‚£æˆ‘ä»¬hasnextå‡½æ•°å¿…é¡»å…ˆæŠŠ[[1],2]å¤„ç†ä¸º1å’Œ2ï¼Œæˆ–è€…è‡³å°‘å…ˆæŠŠ1æå–å‡ºæ¥ï¼Œnextæ‰ä¼šè¾“å‡ºï¼Œå¯¹äºè¿™ç§æŠŠæ•°æ®ä¸€è‚¡è„‘ç»™æˆ‘ä»¬ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€æ¬¡åªå¤„ç†å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©stackï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæŠŠæ•°æ®æ— è®ºæ˜¯integerè¿˜æ˜¯listéƒ½æ”¾å…¥stackï¼Œä½†æ˜¯è¿™æ ·é¡ºåºæ˜¯å€’ç€çš„ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç”¨ç¬¬äºŒä¸ªstackå§é¡ºåºé¢ å€’è¿‡æ¥ï¼ˆå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è®²è¿‡çš„åŒstackæ‰èƒ½ä¿è¯æ•°æ®æ˜¯æ­£åºçš„ï¼‰ï¼Œå½“ç„¶ä¹‹å‰è¯´è¿™äº›éƒ½æ˜¯æ„é€ å‡½æ•°çš„æ´»å„¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¯´è¿‡ï¼Œæ¯æ¬¡è°ƒç”¨nextå‡½æ•°çš„æ—¶å€™ï¼Œä¼šåœ¨å†…éƒ¨å…ˆè°ƒç”¨hasnextæ¥å¤„ç†æ•°æ®å’Œä¿è¯æœ‰è¾“å‡ºï¼Œå› æ­¤ä¸‹ä¸€æ­¥æˆ‘ä»¬å°±è¿›å…¥hasnextæ¥å¤„ç†æ•°æ®ï¼šæˆ‘ä»¬æ€»ä½“çš„ç›®çš„æ˜¯ä¿è¯æ ˆé¡¶å…ƒç´ æ˜¯intï¼Œè¿™æ ·nextå‡½æ•°ç›´æ¥è°ƒç”¨stack.pop()å°±è¡Œäº†ï¼Œå¤§è‡´çš„æ€è·¯æ˜¯ï¼š
   1. å€ŸåŠ©ä¸Šé¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªwhileå¾ªç¯ï¼Œå¾ªç¯æ˜¯ç”¨æ¥åˆ¤æ–­ç°åœ¨æ ˆé¡¶çš„å…ƒç´ æ˜¯ä¸æ˜¯integerï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆè¿›å…¥å¾ªç¯å¤„ç†æ ˆé¡¶å…ƒç´ ç›´è‡³nextå‡½æ•°å¯ä»¥ç›´æ¥è¾“å‡ºæ ˆé¡¶çš„intå…ƒç´ 
   2. è¿›å…¥å¾ªç¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ ˆé¡¶å½“å‰ä¸€å®šæ˜¯listï¼Œæˆ‘ä»¬å°±ç”¨ä¸Šé“é¢˜çš„æ€è·¯ï¼Œä¸€æ¬¡æ‰“å¼€ä¸€å±‚æ‹¬å·ï¼Œå¹¶å°†å…¶é‡æ–°ç½®å…¥æ ˆä¸­ï¼Œä»¥æ–¹ä¾¿whileå¾ªç¯è¿›è¡Œä¸‹æ¬¡åˆ¤æ–­
   3. ç›´è‡³æ ˆé¡¶å…ƒç´ æ˜¯intï¼Œç»ˆäºä¼ºå€™æ˜ç™½äº†nextè¿™ä¸ªBï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜å¾—åˆ¤æ–­æœ‰æ²¡æœ‰çš„è¾“å‡ºï¼Œç›´æ¥è¿”å›ï¼stack.isEmptyå°±å¯ä»¥äº†ï¼Œstackæ˜¯æˆ‘ä»¬å­˜å‚¨åç»­æ•°æ®çš„åœ°æ–¹ï¼Œå¦‚æœæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆè¯´æ˜æ²¡æœ‰åç»­å…ƒç´ äº†ï¼Œä¹Ÿå°±æ²¡æœ‰å¯è¾“å‡ºçš„äº†

   è‡³äºnextå‡½æ•°ï¼Œå°±å…ˆè°ƒç”¨hasnextï¼Œå¦‚æœæœ‰ï¼Œè¾“å‡ºæ ˆé¡¶å…ƒç´ ï¼Œæ²¡æœ‰ï¼ŒæŠ¥é”™å°±è¡Œäº†

   è¿™å°±æ˜¯iteratoré—®é¢˜çš„æ ‡å‡†æ€è€ƒæ¨¡å¼ï¼Œåˆ‡è®°ä¸è¦é¢„å¤„ç†ï¼Œè€Œæ˜¯è¦åŠ¨æ€å¤„ç†æ•°æ®ï¼Œä½¿ç”¨hasnextè¿™ä¸ªè€å¦ˆå­ä¼ºå€™å¥½nextè¿™ä¸ªå…¬å­å“¥å°±è¡Œäº†

3. ä»£ç ï¼š

```java
/**
 * // This is the interface that allows for creating nested lists.
 * // You should not implement it, or speculate about its implementation
 * public interface NestedInteger {
 *
 *     // @return true if this NestedInteger holds a single integer, rather than a nested list.
 *     public boolean isInteger();
 *
 *     // @return the single integer that this NestedInteger holds, if it holds a single integer
 *     // Return null if this NestedInteger holds a nested list
 *     public Integer getInteger();
 *
 *     // @return the nested list that this NestedInteger holds, if it holds a nested list
 *     // Return null if this NestedInteger holds a single integer
 *     public List<NestedInteger> getList();
 * }
 */
public class NestedIterator implements Iterator<Integer> {
    
    private Stack<NestedInteger> stack = new Stack<NestedInteger>();
    
    public NestedIterator(List<NestedInteger> nestedList) {
        Stack<NestedInteger> temp = new Stack<NestedInteger>();
        for(NestedInteger num: nestedList){
            temp.add(num);
        }        
        while(!temp.isEmpty()){
            stack.add(temp.pop());
        }
    }

    @Override
    public Integer next() {
        if(!this.hasNext()){
            return null;
        }else{
            return stack.pop().getInteger();
        }
        
    }

    @Override
    public boolean hasNext() {
        while(!stack.isEmpty() && !stack.peek().isInteger()){
            Stack<NestedInteger> temp = new Stack<NestedInteger>();
            List<NestedInteger> list = stack.pop().getList();
            for(NestedInteger num: list){
                temp.add(num);
            }
            while(!temp.isEmpty()){
                stack.add(temp.pop());
            }
        }
        return !stack.isEmpty();
    }
}

/**
 * Your NestedIterator object will be instantiated and called as such:
 * NestedIterator i = new NestedIterator(nestedList);
 * while (i.hasNext()) v[f()] = i.next();
 */
```

#### ä¹ç« ç®—æ³•ç­åˆ°æ­¤ç»“æŸ~ç¥å¤§å®¶æ‹¿åˆ°å¿ƒä»ªçš„offer
